<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Senaryo Timeline EditÃ¶rÃ¼</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" crossorigin="anonymous">
<!-- Firebase Realtime Database (GerÃ§ek ZamanlÄ± Ä°ÅŸbirliÄŸi) -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js" integrity="sha384-sEVIly94UBRLKWdkYoPpSG7GD/e79YHMrxVyZaOk712Ga7+EAw6w1EFi+xBzBdd+" crossorigin="anonymous"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js" integrity="sha384-EkqK+ezBWJuvO3hfrSx2iVqr3YQbhmnzn8kPhOpBZ+0GMVU5oGSgptwIu8D84HjE" crossorigin="anonymous"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js" integrity="sha384-1/m+A1jVWbD3yiK3/vtFvm1+LjK1WLpSoDY+Kaxppwn/yP9BVSgdHTNQVOjrzUO5" crossorigin="anonymous"></script>
<style>
/* __CSS_PLACEHOLDER__ */
</style>
</head>
<body>
<noscript><div style="color:var(--red);background:var(--bg2);padding:24px;margin:20px;font-size:16px;border:2px solid var(--red);border-radius:8px;">JavaScript devre dÄ±ÅŸÄ±. LÃ¼tfen tarayÄ±cÄ± ayarlarÄ±ndan JavaScript'i etkinleÅŸtirin.</div></noscript>
<div id="loadMsg" style="color:var(--tx2);padding:20px;font-size:14px;">YÃ¼kleniyor...</div>

<div id="authScreen" style="display:none;">
  <div class="ps-inner">
    <div class="ps-header">
      <h1>Senaryo Timeline EditÃ¶rÃ¼</h1>
      <p>GiriÅŸ yapÄ±n veya hesap oluÅŸturun</p>
    </div>
    <div class="auth-tabs" role="tablist" aria-label="Kimlik doÄŸrulama sekmeleri">
      <button class="auth-tab active" onclick="App.Auth.switchTab('login')" data-tab="login" role="tab" aria-selected="true" aria-controls="authLoginForm">GiriÅŸ Yap</button>
      <button class="auth-tab" onclick="App.Auth.switchTab('register')" data-tab="register" role="tab" aria-selected="false" aria-controls="authRegisterForm">KayÄ±t Ol</button>
    </div>
    <div class="auth-form" id="authLoginForm" role="tabpanel" aria-labelledby="authLoginForm">
      <div class="auth-error" id="loginError"></div>
      <input type="email" id="loginEmail" placeholder="E-posta adresi" onkeydown="if(event.key==='Enter')App.Auth.doLogin()" />
      <input type="password" id="loginPass" placeholder="Parola" onkeydown="if(event.key==='Enter')App.Auth.doLogin()" />
      <button class="btn btn-p" onclick="App.Auth.doLogin()">GiriÅŸ Yap</button>
    </div>
    <div class="auth-form" id="authRegisterForm" style="display:none;" role="tabpanel" aria-labelledby="authRegisterForm">
      <div class="auth-error" id="registerError"></div>
      <input type="text" id="regName" placeholder="AdÄ±nÄ±z" />
      <input type="email" id="regEmail" placeholder="E-posta adresi" />
      <input type="password" id="regPass" placeholder="Parola (min 6 karakter)" onkeydown="if(event.key==='Enter')App.Auth.doRegister()" />
      <button class="btn btn-p" onclick="App.Auth.doRegister()">KayÄ±t Ol</button>
    </div>
  </div>
</div>

<div id="projectsScreen" style="display:none;">
  <div class="ps-inner">
    <div class="ps-header">
      <h1>Senaryo Timeline EditÃ¶rÃ¼</h1>
      <p>Projelerinizi yÃ¶netin</p>
    </div>
    <div class="ps-actions">
      <button class="btn btn-p" onclick="App.Templates.openTemplateModal()">+ Yeni Proje</button>
      <button class="btn" onclick="App.Projects.loadDemoAsProject()">Demo Proje</button>
      <button class="btn" onclick="document.getElementById('psFIn').click()">â†‘ JSON YÃ¼kle</button>
      <input type="file" id="psFIn" accept=".json" style="display:none" onchange="App.Projects.handleImport(event)">
    </div>
    <div class="ps-list" id="psList"></div>
  </div>
</div>

<div class="app" id="appRoot" style="display:none;">
  <div class="topbar">
    <div class="logo">
      <h1 id="projTitle" onclick="App.Panels.openSettings()">Yeni Proje</h1>
      <span id="projSub">Senaryo Timeline EditÃ¶rÃ¼</span>
      <button class="btn" onclick="App.Projects.goBack()" title="Proje listesine dÃ¶n">ğŸ“‚ Projeler</button>
    </div>
    <div class="view-modes">
      <button class="view-mode" data-vm="screenplay" onclick="App.setViewMode('screenplay')">Senaryo</button>
      <button class="view-mode active" data-vm="split" onclick="App.setViewMode('split')">BÃ¶lÃ¼nmÃ¼ÅŸ</button>
      <button class="view-mode" data-vm="timeline" onclick="App.setViewMode('timeline')">Timeline</button>
      <button class="view-mode" data-vm="kartlar" onclick="App.setViewMode('kartlar')">Kartlar</button>
      <button class="view-mode" data-vm="iliskiler" onclick="App.setViewMode('iliskiler')">Ä°liÅŸkiler</button>
    </div>
    <div class="sync-bar" id="syncBar">
      <span class="sync-dot connected" id="syncDot"></span>
      <span class="sync-status-text" id="syncStatusText" role="status"></span>
      <div class="presence-bar" id="presenceBar"></div>
    </div>
    <div class="tba">
      <span class="readonly-badge">Sadece Okuma</span>
      <div class="user-info" id="userInfo" style="display:none;cursor:pointer;" onclick="App.Auth.openProfileModal()" title="Profili dÃ¼zenle">
        <div class="user-avatar" id="userAvatar"></div>
        <span id="userDisplayName"></span>
      </div>
      <button class="btn" id="shareBtn" onclick="App.Projects.openShareModal()" style="display:none;">PaylaÅŸ</button>
      <button class="btn" id="logoutBtn" onclick="App.Auth.logout()" style="display:none;">Ã‡Ä±kÄ±ÅŸ</button>
      <button class="btn" onclick="App.Projects.save();App.UI.toast('Kaydedildi')" title="Projeyi Kaydet (Ctrl+S)">ğŸ’¾ Kaydet</button>
      <div class="sep"></div>
      <button class="btn btn-icon" onclick="App.Store.undo()" title="Geri Al (Ctrl+Z)" aria-label="Geri Al">â†©</button>
      <button class="btn btn-icon" onclick="App.Store.redo()" title="Yinele (Ctrl+Y)" aria-label="Yinele">â†ª</button>
      <div class="sep"></div>
      <button class="btn" onclick="App.Timeline.zoomOut()" aria-label="UzaklaÅŸtÄ±r">âˆ’</button>
      <span id="zLvl" style="font-size:10px;color:var(--tx3);font-family:monospace;min-width:36px;text-align:center">100%</span>
      <button class="btn" onclick="App.Timeline.zoomIn()" aria-label="YakÄ±nlaÅŸtÄ±r">+</button>
      <button class="btn" onclick="App.Timeline.zoomReset()">SÄ±ÄŸdÄ±r</button>
      <div class="sep"></div>
      <button class="btn" onclick="document.getElementById('fIn').click()">â†‘ YÃ¼kle</button>
      <button class="btn" onclick="App.Export.openExportModal()">â†“ DÄ±ÅŸa Aktar</button>
      <button class="btn" id="reviewToggleBtn" onclick="App.Review.toggleReviewMode()" title="Ä°nceleme Modu (Track Changes)">Ä°nceleme</button>
      <button class="btn" onclick="App.Panels.openSettings()" aria-label="Ayarlar">âš™</button>
      <button class="btn btn-p" onclick="App.Panels.openAddEvent()">+ Olay</button>
      <input type="file" id="fIn" accept=".json,.fountain,.celtx,.pdf" style="display:none" onchange="App.IO.handleAnyImport(event)">
    </div>
  </div>

  <div class="toolbar" id="tb">
    <label>BÃ¶lÃ¼m</label>
    <select id="fEp" onchange="App.Timeline.doFilter()"><option value="all">TÃ¼mÃ¼</option></select>
    <label>Karakter</label>
    <select id="fCh" onchange="App.Timeline.doFilter()"><option value="all">TÃ¼mÃ¼</option></select>
    <div class="sep"></div>
    <label>Snap</label>
    <select id="snapSel" onchange="App.Interaction.setSnap(+this.value)">
      <option value="0">KapalÄ±</option>
      <option value="5">5sn</option>
      <option value="10" selected>10sn</option>
      <option value="15">15sn</option>
      <option value="30">30sn</option>
      <option value="60">60sn</option>
    </select>
    <div class="sep"></div>
    <div id="catP" style="display:flex;gap:6px;flex-wrap:wrap;"></div>
    <div class="sep"></div>
    <button class="btn btn-s" id="wBtn" onclick="App.Panels.togglePanel('warn')">âš  UyarÄ±lar <span class="badge" id="wBdg" style="display:none">0</span></button>
    <button class="btn btn-s" onclick="App.Panels.togglePanel('analysis')">â— Analiz</button>
    <button class="btn btn-s" onclick="App.Panels.togglePanel('changelog')">ğŸ“‹ GÃ¼nlÃ¼k</button>
    <button class="btn btn-s" onclick="App.Panels.togglePanel('notes')">ğŸ“Œ Notlar</button>
    <button class="btn btn-s" onclick="App.Panels.togglePanel('ai')" style="background:linear-gradient(135deg,#a855f7,#3b82f6);border-color:transparent;color:#fff;">âœ¦ AI Asistan</button>
    <button class="btn btn-s" onclick="App.Panels.togglePanel('review')">âœ Ä°nceleme</button>
  </div>

  <div class="main-wrap">
    <div class="sp-panel" id="spPanel">
      <div class="sp-resize" id="spResize"></div>
      <div class="sp-header">
        <h3>ğŸ“ Senaryo</h3>
        <button class="close-btn" onclick="App.setViewMode('timeline')">âœ•</button>
      </div>
      <div class="sp-toolbar">
        <button class="btn btn-s" onclick="App.Screenplay.addEpisode()">+ BÃ¶lÃ¼m</button>
        <button class="btn btn-s" onclick="document.getElementById('docxIn').click()">ğŸ“„ DOCX</button>
        <input type="file" id="docxIn" accept=".docx" style="display:none" onchange="App.IO.handleDocx(event)">
      </div>
      <div class="sp-episodes" id="spEpisodes"></div>
    </div>

    <div class="tl-area" id="tlA">
      <div class="tl-container" id="tlC"></div>
    </div>

    <div class="rpanel" id="rPanel"></div>
  </div>

  <div class="statusbar" id="statusbar" role="status">
    <div class="st-item" id="stProj">Proje: Yeni Proje</div>
    <div class="st-sep"></div>
    <div class="st-item" id="stEps">0 bÃ¶lÃ¼m</div>
    <div class="st-sep"></div>
    <div class="st-item" id="stScenes">0 sahne</div>
    <div class="st-sep"></div>
    <div class="st-item" id="stEvents">0 olay</div>
    <div class="st-sep"></div>
    <div class="st-item" id="stDur">00:00</div>
    <div style="flex:1"></div>
    <div class="st-item st-warn" id="stWarn" onclick="App.Panels.togglePanel('warn')"></div>
    <div class="st-item" id="stSel"></div>
    <div class="st-item" id="stSyncStatus" style="font-size:11px;"></div>
    <div class="st-item" id="stSync" style="display:none"></div>
  </div>
</div>

<div class="ttp" id="ttp"></div>
<div class="ctx-menu" id="ctxMenu"></div>
<div class="mbg" id="mbg" role="dialog" aria-modal="true" onclick="if(event.target===this)App.UI.closeModal()"><div class="mdl" id="mdl"></div></div>
<div class="tbox" id="tbox" aria-live="polite"></div>

<script>
/* __JS_PLACEHOLDER__ */
</script>
</body>
</html>
